



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Tutorials for using Galaxy Australia">
      
      
        <link rel="canonical" href="https://galaxy-au-training.github.io/tutorials/modules/prokka/">
      
      
        <meta name="author" content="Anna Syme, Gareth Price, Torsten Seemann">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.6">
    
    
      
        <title>Galaxy Australia Training</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../css/sepsis.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#genome-annotation-using-prokka" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://galaxy-au-training.github.io/tutorials/" title="Galaxy Australia Training" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Galaxy Australia Training
              </span>
              <span class="md-header-nav__topic">
                Genome annotation
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/Galaxy-Au-training/tutorials/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Galaxy-Australia-training/tutorials
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://galaxy-au-training.github.io/tutorials/" title="Galaxy Australia Training" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Galaxy Australia Training
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/Galaxy-Au-training/tutorials/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Galaxy-Australia-training/tutorials
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../galaxy/" title="Get started" class="md-nav__link">
      Get started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../intro/" title="Learn key tasks" class="md-nav__link">
      Learn key tasks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../galaxy-data/" title="Download and Delete Data in Galaxy" class="md-nav__link">
      Download and Delete Data in Galaxy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../fastqc/" title="Quality control" class="md-nav__link">
      Quality control
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../spades/" title="Genome assembly" class="md-nav__link">
      Genome assembly
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Genome annotation
      </label>
    
    <a href="./" title="Genome annotation" class="md-nav__link md-nav__link--active">
      Genome annotation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-data" title="Input data" class="md-nav__link">
    Input data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-shared-data" title="Use shared data" class="md-nav__link">
    Use shared data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#or-import-from-the-web" title="Or, import from the web" class="md-nav__link">
    Or, import from the web
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shorten-file-name" title="Shorten file name" class="md-nav__link">
    Shorten file name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-prokka" title="Run Prokka" class="md-nav__link">
    Run Prokka
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-do-i-choose-settings-when-running-a-tool" title="How do I choose settings when running a tool?" class="md-nav__link">
    How do I choose settings when running a tool?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examine-the-output" title="Examine the output" class="md-nav__link">
    Examine the output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view-annotated-features-in-jbrowse" title="View annotated features in JBrowse" class="md-nav__link">
    View annotated features in JBrowse
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jbrowse-output" title="JBrowse output" class="md-nav__link">
    JBrowse output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-exercise" title="Extension exercise" class="md-nav__link">
    Extension exercise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-this-history-in-galaxy" title="See this history in Galaxy" class="md-nav__link">
    See this history in Galaxy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-information" title="More information" class="md-nav__link">
    More information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" title="What's next?" class="md-nav__link">
    What's next?
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../snippy/" title="Variant calling - bacteria" class="md-nav__link">
      Variant calling - bacteria
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../variants/" title="Variant calling - human" class="md-nav__link">
      Variant calling - human
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../abricate/" title="Antibiotic-resistant genes" class="md-nav__link">
      Antibiotic-resistant genes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mlst/" title="Using MLST" class="md-nav__link">
      Using MLST
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../kraken/" title="Sample identification" class="md-nav__link">
      Sample identification
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../dge/" title="RNA-seq - bacteria" class="md-nav__link">
      RNA-seq - bacteria
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../rna-humans/" title="RNA-seq - eukaryotes" class="md-nav__link">
      RNA-seq - eukaryotes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../metagenomics/" title="Metagenomics" class="md-nav__link">
      Metagenomics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflows/" title="Galaxy workflows - introduction" class="md-nav__link">
      Galaxy workflows - introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-assembly/" title="Workflow - genome assembly" class="md-nav__link">
      Workflow - genome assembly
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-annotation/" title="Workflow - genome annotation" class="md-nav__link">
      Workflow - genome annotation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-variant-calling/" title="Workflow - variant calling, bacteria" class="md-nav__link">
      Workflow - variant calling, bacteria
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-rna-seq/" title="Workflow - Bacterial RNA-seq" class="md-nav__link">
      Workflow - Bacterial RNA-seq
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-metagenomics/" title="Workflow - Metagenomics" class="md-nav__link">
      Workflow - Metagenomics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../shortreads/" title="Short read data" class="md-nav__link">
      Short read data
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../refseq/" title="Reference genomes" class="md-nav__link">
      Reference genomes
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-data" title="Input data" class="md-nav__link">
    Input data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-shared-data" title="Use shared data" class="md-nav__link">
    Use shared data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#or-import-from-the-web" title="Or, import from the web" class="md-nav__link">
    Or, import from the web
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shorten-file-name" title="Shorten file name" class="md-nav__link">
    Shorten file name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-prokka" title="Run Prokka" class="md-nav__link">
    Run Prokka
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-do-i-choose-settings-when-running-a-tool" title="How do I choose settings when running a tool?" class="md-nav__link">
    How do I choose settings when running a tool?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examine-the-output" title="Examine the output" class="md-nav__link">
    Examine the output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view-annotated-features-in-jbrowse" title="View annotated features in JBrowse" class="md-nav__link">
    View annotated features in JBrowse
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jbrowse-output" title="JBrowse output" class="md-nav__link">
    JBrowse output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-exercise" title="Extension exercise" class="md-nav__link">
    Extension exercise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-this-history-in-galaxy" title="See this history in Galaxy" class="md-nav__link">
    See this history in Galaxy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-information" title="More information" class="md-nav__link">
    More information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" title="What's next?" class="md-nav__link">
    What's next?
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Galaxy-Au-training/tutorials/edit/master/docs/modules/prokka/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="genome-annotation-using-prokka">Genome annotation using Prokka</h1>
<h2 id="background">Background</h2>
<p>In this section we will use a software tool called Prokka to annotate a draft genome sequence.</p>
<ul>
<li>Prokka is a “wrapper”; it collects together several pieces of software (from various authors), and so avoids “re-inventing the wheel”.</li>
<li>Prokka finds and annotates features (both protein coding regions and RNA genes, i.e. tRNA, rRNA) present on on a sequence.</li>
<li>Note, Prokka uses a two-step process for the annotation of protein coding regions: first, protein coding regions on the genome are identified using <a href="http://prodigal.ornl.gov/">Prodigal</a>; second, the <em>function</em> of the encoded protein is predicted by similarity to proteins in one of many protein or protein domain databases.</li>
<li>Prokka is a software tool that can be used to annotate bacterial, archaeal and viral genomes quickly, generating standard output files in GenBank, EMBL and gff formats.</li>
<li>More information about Prokka can be found <a href="https://github.com/tseemann/prokka">here</a>.</li>
</ul>
<p><fn><strong>New to Galaxy?</strong> First try the <a href="../galaxy/">introduction</a> and then learn some <a href="../intro/">key tasks</a></fn></p>
<h2 id="input-data">Input data</h2>
<ul>
<li>Log in to your Galaxy instance (for example, Galaxy Australia, <a href="https://usegalaxy.org.au/">usegalaxy.org.au</a>).</li>
</ul>
<p>Prokka requires assembled contigs.</p>
<ul>
<li>
<p><em>If you are continuing on from the previous workshop (<a href="/modules/spades/index.md">Assembly with Spades</a>), this file will be in your current history named something like <fn>SPAdes contigs(fasta)</fn>.</em></p>
</li>
<li>
<p>Or, to upload a file of contigs:</p>
</li>
</ul>
<h3 id="use-shared-data">Use shared data</h3>
<p>If you are using Galaxy Australia, you can import the data from a shared data library.</p>
<p>In the top menu bar, go to <ss>Shared Data</ss>.</p>
<ul>
<li>Click on <ss>Data Libraries</ss>.</li>
<li>Click on <fn>Galaxy Australia Training Material: Annotation: Microbial Annotation</fn>.</li>
<li>Tick the box next to the file.</li>
<li>Click the <ss>To History</ss> button, select <em>As Datasets</em>.</li>
<li>Name a new history and click <ss>Import</ss>.</li>
<li>In the top menu bar, click <ss>Analyze Data</ss>.</li>
<li>You should now have one file in your current history.</li>
</ul>
<h3 id="or-import-from-the-web">Or, import from the web</h3>
<p><em>Only follow this step if unable to load the data files from shared data, as described above</em>.</p>
<ul>
<li>In a new browser tab, go to this webpage:</li>
</ul>
<p><a href="https://doi.org/10.5281/zenodo.1341567"><img alt="DOI" src="https://zenodo.org/badge/DOI/10.5281/zenodo.1341567.svg" /></a></p>
<ul>
<li>Find the file called <fn>contigs.fasta</fn></li>
<li>Right click on file name: select &ldquo;copy link address&rdquo;</li>
<li>In Galaxy, go to <ss>Get Data</ss> and then Upload File</li>
<li>Click <ss>Paste/Fetch data</ss></li>
<li>A box will appear: paste in link address</li>
<li>Click <ss>Start</ss></li>
<li>Click <ss>Close</ss></li>
<li>The file will now appear in the top of your history panel. When uploaded, the file name will turn green.</li>
</ul>
<!--
We will import a history from Galaxy:

- In the menu options across the top, go to <ss>Shared Data</ss>.
- Click on <ss>Histories</ss>.
- A list of published histories should appear. Click on <fn>GCC 2016 small genome annotation</fn>.
- Click on <ss>Import history</ss>.
- An option will appear to re-name the history. We don't need to rename it, so click <ss>Import</ss>.
- The history will now appear in your Current History pane, and the <fn>SPAdes_contigs.fasta</fn> file is now ready to use in Galaxy analyses.
-->

<h3 id="shorten-file-name">Shorten file name</h3>
<ul>
<li>Click on the pencil icon next to the file name.</li>
<li>In the centre Galaxy panel, click in the box under <ss>Name</ss></li>
<li>Shorten the file name.</li>
<li>Then click <ss>Save</ss></li>
</ul>
<h2 id="run-prokka">Run Prokka</h2>
<ul>
<li>Go to the Tool panel and search for &ldquo;prokka&rdquo; in the search box.</li>
<li>
<p>Click on <ss>Prokka</ss></p>
</li>
<li>
<p>For <ss>Contigs to annotate</ss>: your <fn>contigs.fasta</fn> file</p>
</li>
<li>All the other settings can be left as they are.</li>
</ul>
<p>Your tool interface should look like this:</p>
<p><img alt="prokka interface" src="images/interface2.png" /></p>
<ul>
<li>Click <ss>Execute</ss></li>
</ul>
<h3 id="how-do-i-choose-settings-when-running-a-tool">How do I choose settings when running a tool?</h3>
<ul>
<li>In this case, the default settings are appropriate for our data set and analysis.</li>
<li>Under the tool interface in Galaxy there will usually be a more detailed description of the tool options, and a link to the tool&rsquo;s documentation.</li>
<li>It is recommended that you read about the tool parameters in more detail in the documentation, and adjust to your data and analysis accordingly.  </li>
</ul>
<h3 id="examine-the-output">Examine the output</h3>
<!-- First, enable *Scratchbook* in Galaxy - this allows you to view several windows simultaneously. Click on the 3&times;3 squares icon on the menu bar:

![scratchbook icon](images/scratchbook.png)
-->

<p>Once Prokka has finished, examine each of its output files.</p>
<ul>
<li>The <fn>GFF</fn> and <fn>GBK</fn> files contain all of the information about the features annotated (in different formats.)</li>
<li>The <fn>.txt</fn> file contains a summary of the number of features annotated.</li>
<li>The <fn>.faa</fn> file contains the protein sequences of the genes annotated.</li>
<li>The <fn>.ffn</fn> file contains the nucleotide sequences of the genes annotated.</li>
</ul>
<h2 id="view-annotated-features-in-jbrowse">View annotated features in JBrowse</h2>
<p>Now that we have annotated the draft genome sequence, we would like to view the sequence in the JBrowse genome viewer.</p>
<ul>
<li>Go to the Galaxy tool panel, and use the top search box to search for &ldquo;JBrowse&rdquo;.</li>
<li>Click <ss>JBrowse</ss></li>
</ul>
<p>Leave most settings as they are, except for:</p>
<ul>
<li>
<p>Under <ss>Reference genome to display</ss> choose <em>Use a genome from history</em>.</p>
</li>
<li>
<p>Under <ss>Select the reference genome</ss> choose <fn>Prokka on data XX:fna</fn>. This .fna sequence is the fasta nucleotide sequence, and will be the reference against which annotations are displayed.</p>
</li>
</ul>
<!-- - For <ss>Produce a Standalone Instance</ss> select *Yes*. (The "Yes" box will be a darker grey when selected.)
-->

<ul>
<li>For <ss>Genetic Code</ss> choose <em>11: The Bacterial, Archaeal and Plant Plastid Code</em>.</li>
</ul>
<!--
- Under <ss>JBrowse-in-Galaxy Action</ss> choose *New JBrowse Instance*. -->

<ul>
<li>
<p>Click <ss>Insert Track Group</ss></p>
</li>
<li>
<p>Under <ss>Track Category</ss> type in <em>gene annotations</em>.</p>
</li>
<li>
<p>Click <ss>Insert Annotation Track</ss></p>
</li>
<li>
<p>For <ss>Track Type</ss> choose <em>GFF/GFF3/BED/GBK Features</em></p>
</li>
<li>
<p>For <ss>GFF/GFF3/BED Track Data</ss> select <fn>Prokka on data XX:gff</fn>  [Note: not wildtype.gff]</p>
</li>
</ul>
<!--
- Under <ss>JBrowse Track Type[Advanced]</ss> select *Canvas Features*.

- Click on <ss>JBrowse Styling Options <Advanced]</ss>

- Under <ss>JBrowse style.label</ss> check that it says *product,name,id*.

- Under <ss>Track Visibility</ss> choose *On for new users*.
-->

<p>Your tool interface should look like this:</p>
<p><img alt="JBrowse interface" src="images/jbrowse_interface3.png" /></p>
<!--
![JBrowse interface](images/jbrowse_oldversion.png) -->

<ul>
<li>Click <ss>Execute</ss></li>
</ul>
<h3 id="jbrowse-output">JBrowse output</h3>
<p>A new file will be created, called <fn>JBrowse on data XX and data XX - Complete</fn>.</p>
<ul>
<li>In place of &ldquo;XX&rdquo;, there will be numbers that will refer to the files that Galaxy used in your particular history.</li>
</ul>
<p>Click on the eye icon next to the file name. The JBrowse window will appear in the centre Galaxy panel.</p>
<ul>
<li>
<p>Under <ss>Available Tracks</ss> on the left, tick the box for <fn>Prokka on data XX:gff</fn>.</p>
</li>
<li>
<p>Select a contig to view, in the drop down box. You can only see one contig displayed at a time. Choose the longest contig.</p>
</li>
</ul>
<p><img alt="JBrowse" src="images/jbrowse33.png" /></p>
<ul>
<li>
<p>Use the plus and minus buttons to zoom in and out, and the arrows to move left or right (or click and drag within the window to move left or right).</p>
</li>
<li>
<p>Zoom in to see the reference sequence at the top. JBrowse displays the sequence and a 6-frame amino acid translation.</p>
</li>
</ul>
<p>Zoomed in view:</p>
<p><img alt="JBrowse" src="images/jbrowse6.png" /></p>
<ul>
<li>Right click on a gene/feature annotation (the bars on the annotation track), then select <ss>View Details</ss> to see more information.<ul>
<li>gene name</li>
<li>product name</li>
<li>you can download the FASTA sequence by clicking on the disk icon.</li>
</ul>
</li>
</ul>
<!-- ## What next?

- Identify genome variants (nucletotide changes) using [Snippy](/modules/snippy/index.md).
-->

<h2 id="extension-exercise">Extension exercise</h2>
<ul>
<li>Open the JBrowse file that you created to show the gene annotations.</li>
<li>In the drop-down box, select the longest contig.</li>
<li>Find an annotation for a &ldquo;hypothetical protein&rdquo;.<ul>
<li>Alternatively, in the coordinates box, enter &ldquo;32,500&rdquo;.</li>
<li>Zoom out; see the annotation that spans this location. It is a &ldquo;hypothetical protein&rdquo;.</li>
</ul>
</li>
<li>Click on this annotation. See the nucleotide sequence: select and copy.</li>
<li>Go to the <a href="https://blast.ncbi.nlm.nih.gov/Blast.cgi">NCBI page</a> and BLAST this sequence to see what it matches.</li>
<li>Try the &ldquo;blastx&rdquo; option, which will translate your nucleotide sequence into a protein sequence.</li>
<li>For <ss>Enter Query Sequence</ss>, paste your sequence into the box.</li>
<li>For <ss>Genetic Code</ss> choose &ldquo;Bacteria and Archaea&rdquo;.</li>
<li>For <ss>Database</ss>, try the &ldquo;SwissProt&rdquo; database. You can also re-try with other options to see how the database affects the results.</li>
<li>All other options can be left as default. Click <ss>BLAST</ss>.</li>
<li>What does your sequence match?</li>
<li>In our example, the top hit is to a carboxylase enzyme.</li>
<li>In the <ss>Show Conserved Domains</ss> window, we can see that this is part of a superfamily of metallo-dependent hydrolases. Click through to find out more about this superfamily.  </li>
<li>Genome annotation is constantly refined. We can see here that some manual investigation gave us more information about an annotation. This would need to be experimentally confirmed.</li>
<li>For a detailed description of the BLAST output, see the top right corner of the page and click &ldquo;Blast report description&rdquo;.</li>
</ul>
<!--

## Questions and Answers

!!! note "Question"
    Can you edit annotations in JBrowse?

    ??? "Answer (click to reveal)"
        Apollo (a plugin for JBrowse) allows collaborative editing [http://genomearchitect.github.io](http://genomearchitect.github.io). EMBL-ABR hosted a previous training session from the Apollo Project manager: [Video](https://www.youtube.com/watch?v=Wec7ZlXykQc&t=4325s)


!!! note "Question"
    Qu

    ??? "Answer (click to reveal)"
        Answer



-->

<h2 id="see-this-history-in-galaxy">See this history in Galaxy</h2>
<p>If you want to see this Galaxy history without performing the steps above:</p>
<ul>
<li>Log in to Galaxy Australia: <a href="https://usegalaxy.org.au/">https://usegalaxy.org.au/</a></li>
<li>Go to <ss>Shared Data</ss></li>
<li>Click <ss>Histories</ss></li>
<li>Click <fn>Completed-annotation-analysis</fn></li>
<li>Click <ss>Import</ss> (at the top right corner)</li>
<li>The analysis should now be showing as your current history.</li>
</ul>
<h2 id="more-information">More information</h2>
<p>Here are some references covering more information about genome annotation.</p>
<p><strong> <em>Prokaryote genome annotation:</em> </strong>
Seemann T. Prokka: rapid prokaryotic genome annotation. Bioinformatics. 2014 Jul 15;30(14):2068–9.</p>
<p><strong> <em>Eukaryote genome annotation:</em> </strong>
Yandell M, Ence D. A beginner’s guide to eukaryotic genome annotation. Nat Rev Genet. 2012 Apr 18;13(5):329–42.</p>
<p><strong> <em>Wheat genome annotation:</em> </strong>
Clavijo BJ, et al. An improved assembly and annotation of the allohexaploid wheat genome identifies complete families of agronomic genes and provides genomic evidence for chromosomal translocations. Genome Res. 2017 May;27(5):885–96.</p>
<p><strong> <em>Human genome annotation:</em> </strong>
Harrow J, et al. GENCODE: the reference human genome annotation for The ENCODE Project. Genome Res. 2012 Sep;22(9):1760–74.</p>
<p><strong> <em>Annotation in the clinical setting:</em> </strong>
Steward CA, Parker APJ, Minassian BA, Sisodiya SM, Frankish A, Harrow J. Genome annotation for clinical genomic diagnostics: strengths and weaknesses. Genome Med. 2017 May 30;9(1):49.</p>
<p><strong> <em>Assessing your annotation:</em> </strong>
Simão FA, Waterhouse RM, Ioannidis P, Kriventseva EV, Zdobnov EM. BUSCO: assessing genome assembly and annotation completeness with single-copy orthologs. Bioinformatics. 2015 Oct 1;31(19):3210–2.</p>
<p><strong> <em>Comparative genome annotation:</em> </strong>
König S, Romoth L, Stanke M. Comparative Genome Annotation. Methods Mol Biol. 2018;1704:189–212.</p>
<h2 id="whats-next">What&rsquo;s next?</h2>
<p>To use the tutorials on this website:</p>
<ul>
<li>&#8592; see the list in the left hand panel</li>
<li>&#8598; or, click the <strong>menu button</strong> (three horizontal bars) in the top left of the page</li>
</ul>
<p>You can find more tutorials at the Galaxy Training Network:</p>
<ul>
<li><a href="http://galaxyproject.github.io/training-material/">http://galaxyproject.github.io/training-material/</a></li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../spades/" title="Genome assembly" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Genome assembly
              </span>
            </div>
          </a>
        
        
          <a href="../snippy/" title="Variant calling - bacteria" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Variant calling - bacteria
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; The authors; 2018-
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="" class="md-footer-social__link fa fa-coffee"></a>
    
      <a href="https://github.com/Galaxy-Au-training/tutorials" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://github.com/Galaxy-Au-training/tutorials/issues" class="md-footer-social__link fa fa-bug"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.5e60981f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>