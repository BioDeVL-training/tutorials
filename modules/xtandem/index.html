



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Tutorials for using Galaxy Australia">
      
      
        <link rel="canonical" href="https://galaxy-au-training.github.io/tutorials/modules/xtandem/">
      
      
        <meta name="author" content="Anna Syme, Gareth Price, Torsten Seemann">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>Galaxy Australia Training</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/sepsis.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#protein-identification-using-xtandem" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://galaxy-au-training.github.io/tutorials/" title="Galaxy Australia Training" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Galaxy Australia Training
              </span>
              <span class="md-header-nav__topic">
                Home
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/Galaxy-Au-training/tutorials/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Galaxy-Australia-training/tutorials
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://galaxy-au-training.github.io/tutorials/" title="Galaxy Australia Training" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Galaxy Australia Training
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/Galaxy-Au-training/tutorials/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Galaxy-Australia-training/tutorials
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../galaxy/" title="Get started" class="md-nav__link">
      Get started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../intro/" title="Learn key tasks" class="md-nav__link">
      Learn key tasks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../galaxy-data/" title="Download and Delete Data in Galaxy" class="md-nav__link">
      Download and Delete Data in Galaxy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../fastqc/" title="Quality control" class="md-nav__link">
      Quality control
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../spades/" title="Genome assembly" class="md-nav__link">
      Genome assembly
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../prokka/" title="Genome annotation" class="md-nav__link">
      Genome annotation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../snippy/" title="Variant calling - bacteria" class="md-nav__link">
      Variant calling - bacteria
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../variants/" title="Variant calling - human" class="md-nav__link">
      Variant calling - human
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../abricate/" title="Antibiotic-resistant genes" class="md-nav__link">
      Antibiotic-resistant genes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mlst/" title="Using MLST" class="md-nav__link">
      Using MLST
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../kraken/" title="Sample identification" class="md-nav__link">
      Sample identification
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../dge/" title="RNA-seq - bacteria" class="md-nav__link">
      RNA-seq - bacteria
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../rna-humans/" title="RNA-seq - eukaryotes" class="md-nav__link">
      RNA-seq - eukaryotes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../metagenomics/" title="Metagenomics" class="md-nav__link">
      Metagenomics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflows/" title="Galaxy workflows - introduction" class="md-nav__link">
      Galaxy workflows - introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-assembly/" title="Workflow - genome assembly" class="md-nav__link">
      Workflow - genome assembly
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-annotation/" title="Workflow - genome annotation" class="md-nav__link">
      Workflow - genome annotation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-variant-calling/" title="Workflow - variant calling, bacteria" class="md-nav__link">
      Workflow - variant calling, bacteria
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-rna-seq/" title="Workflow - Bacterial RNA-seq" class="md-nav__link">
      Workflow - Bacterial RNA-seq
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-metagenomics/" title="Workflow - Metagenomics" class="md-nav__link">
      Workflow - Metagenomics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../shortreads/" title="Short read data" class="md-nav__link">
      Short read data
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../refseq/" title="Reference genomes" class="md-nav__link">
      Reference genomes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../help/" title="Help!" class="md-nav__link">
      Help!
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lc-msms-analysis" title="LC-MS/MS Analysis" class="md-nav__link">
    LC-MS/MS Analysis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xtandem" title="X!Tandem" class="md-nav__link">
    X!Tandem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#galaxy" title="GALAXY" class="md-nav__link">
    GALAXY
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial" title="Tutorial" class="md-nav__link">
    Tutorial
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objectives" title="Objectives" class="md-nav__link">
    Objectives
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-data-import" title="STEP 1: Data import" class="md-nav__link">
    STEP 1: Data import
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-import-reference-data" title="STEP 2: Import Reference Data" class="md-nav__link">
    STEP 2: Import Reference Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-xtandem-msms-search" title="STEP 3: X!Tandem MS/MS Search" class="md-nav__link">
    STEP 3: X!Tandem MS/MS Search
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-convert-xtandem-xml-to-table" title="STEP 4: Convert X!Tandem XML to Table" class="md-nav__link">
    STEP 4: Convert X!Tandem XML to Table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" title="References" class="md-nav__link">
    References
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Galaxy-Au-training/tutorials/edit/master/docs/modules/xtandem/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><br></p>
<h1 id="protein-identification-using-xtandem">Protein identification using X!Tandem</h1>
<h2 id="introduction">Introduction</h2>
<p>The high-throughput nature of proteomics mass spectrometry is enabled by a productive combination of data acquisition protocols and the computational tools used to interpret the resulting spectra (list of peaks). One of the key components in mainstream protocols is the generation of tandem mass (MS/MS) spectra by peptide fragmentation. This approach is currently used in the large majority of proteomics experiments to routinely identify hundreds to thousands of proteins from single mass spectrometry runs. In order to do that multiple tools have to be employed: <strong>LC-MS/MS</strong> to segregate components of proteomic samples associated with <em>protein identification</em> (see <strong>Figure 1</strong>) softwares, <strong>X!Tandem</strong><sup id="fnref:xtand"><a class="footnote-ref" href="#fn:xtand" rel="footnote">1</a></sup>, <strong>Mascot</strong> or <strong>SEQUEST</strong> all of which perform protein identification but with different algorithms.</p>
<p><img alt="Protein Identification Workflow" src="images/training_Workflow_1v3.png" /></p>
<blockquote>
<p><strong>Figure 1</strong> &mdash; <em>General overview of the experimental steps and flow of data in protein identification using shotgun proteomics experiment.</em><sup id="fnref2:figure1"><a class="footnote-ref" href="#fn:figure1" rel="footnote">2</a></sup>.</p>
</blockquote>
<p><strong>Figure 1</strong> shows a general overview of the experimental steps in protein identification. Sample proteins are first cleaved into peptides, which are then separated using chromatography (e.g. HPLC). The peptides are then ionised and then selected ions are fragmented to produce signature tandem mass spectrometry (MS/MS) spectra. Peptides are identified from the MS/MS spectra by using programs such as X!Tandem, which search against a database of known peptides. Sequences of the identified peptides are used to infer which proteins are present in the original sample.</p>
<h2 id="background">Background</h2>
<h3 id="lc-msms-analysis">LC-MS/MS Analysis</h3>
<p><strong>Liquid Chromatography</strong> (LC) is a technique used to separate molecules in the solvent (mobile phase). Nowadays liquid chromatography utilising high pressure to force the solvent through the columns packed with porous particles (stationary phase) is referred as High Pressure Liquid Chromatography (HPLC) &ndash; see <strong>Figure 2</strong>. After purifying the proteomic cell content, LC is able to separate the different proteins which are injected in the mass spectrometer. Each peak from the results will be analysed by mass spectrometry.</p>
<p><img alt="HPLC Schema" src="images/training_HPLC_1.png" /></p>
<blockquote>
<p><strong>Figure 2</strong> &mdash; <em>Schema of High Pressure Liquid Chromatography (HPLC)<sup id="fnref:figure3"><a class="footnote-ref" href="#fn:figure3" rel="footnote">5</a></sup>.</em> Compounds of the mixture are separated in the HPLC column according to various parameters (polarity, charge, affinity etc). The type of separation depends on the column being used). A detector flow cell is used to detect the separated compounds band.</p>
</blockquote>
<p><strong>Mass spectrometry</strong> (MS) &ndash; see <strong>Figure 3</strong> &ndash; has been widely used to analyse biological samples and has evolved into an indispensable tool for proteomics research. Fundamentally, MS measures the mass-to-charge ratio (m/z) of gas-phase ions. Mass spectrometers consist of an ion source that converts analyte molecules into gas-phase ions, a mass analyser that separates ionised analytes on the basis of m/z ratio and a detector that records the number of ions at each m/z value.</p>
<p><img alt="Mass Spectrometry" src="images/training_MS.png" /></p>
<blockquote>
<p><strong>Figure 3</strong> &mdash; <em>Schema of mass specter</em>. &ldquo;A mass spectrometer consists of three components: an ion source, a mass analyzer, and a detector. The ionizer converts a portion of the sample into ions. There is a wide variety of ionization techniques, depending on the phase (solid, liquid, gas) of the sample and the efficiency of various ionization mechanisms for the unknown species. An extraction system removes ions from the sample, which are then targeted through the mass analyzer and onto the detector. The differences in masses of the fragments allows the mass analyzer to sort the ions by their mass-to-charge ratio. The detector measures the value of an indicator quantity and thus provides data for calculating the abundances of each ion present.&rdquo; <sup id="fnref:figure4"><a class="footnote-ref" href="#fn:figure4" rel="footnote">6</a></sup></p>
</blockquote>
<p><strong>Tandem mass spectrometry</strong> (MS/MS) &ndash; see <strong>Figure 4</strong> &ndash; is a key technique for protein or peptide sequencing and post-translational modifications analysis. Collision-induced dissociation (CID) has been the most widely used MS/MS technique in proteomics research. In this method, gas-phase peptide/protein cations are internally heated by multiple collisions with rare gas atoms. The result is fragmented ions that, after the detection phase and reconstitution, reveal the amino-acid chains.</p>
<p><img alt="LC-MS/MS" src="images/training_LC-MSMS_2.png" /></p>
<blockquote>
<p><strong>Figure 4</strong> &mdash; <em>Schema of a tandem mass spectrometry associated with liquid chromatography (LC-MS/MS)</em>. This technique combine separation form liquid chromatography and m/z ratio analyse of the tandem mass spectrometry in order to generate spectra.</p>
</blockquote>
<p><strong>File formats</strong> : During a full proteomics analysis, as seen in <strong>Figure 5</strong>, many files are created. Every step has its own multiple file formats:</p>
<p><img alt="Files_Created" src="images/training_files.png" /></p>
<blockquote>
<p><strong>Figure 5</strong> &mdash; <em>Multiple formats during MS treatment</em><sup id="fnref:MS file format"><a class="footnote-ref" href="#fn:MS file format" rel="footnote">7</a></sup>. From the sample processing to the final file, various file formats can be used. This schema shows the different processes and file formats that are generated during a full MS experiment.</p>
</blockquote>
<p>For this tutorial we will focus on the &ldquo;Informatics Analysis&rdquo; part using the following file formats:</p>
<ul>
<li><strong>fasta</strong>: fasta files are mainly used for representing either nucleotide sequences or peptide sequences, using single-letter codes.</li>
<li><strong>MGF</strong> : Mascot Generic Format (MGF) file is the most common format for MS/MS data encoding in the form of a peak list<sup id="fnref:MGF"><a class="footnote-ref" href="#fn:MGF" rel="footnote">8</a></sup>. This file encodes multiple MS/MS spectra in a single file listing the [m/z, intensity] pairs separated by headers &ndash; see <strong>Figure 6</strong>. More precisely each query represents a complete MS/MS spectrum delimited by BEGIN IONS and END IONS statements. Embedded parameters<sup id="fnref:embedded_parameters"><a class="footnote-ref" href="#fn:embedded_parameters" rel="footnote">9</a></sup> can be found after each BEGIN IONS statement. An example entry is shown in the figure below:</li>
</ul>
<p><img alt="MGF example" src="images/training_MGF.png" /></p>
<blockquote>
<p><strong>Figure 6</strong> &mdash; <em>Sample of a MGF file</em>. MGF files are used for enconding MS results, multiple spectra can be enconded in one MGF. Every spectrum begins with the <em>BEGINS IONS</em> assessment and finishes with <em>END IONS</em>. MGF files can be divided in 2 parts :
    &ndash; The header : containing information about the embedded Search Parameters.
    &ndash; Ions information : the first figure is the ion mass, the second is the ion charge.</p>
</blockquote>
<h3 id="xtandem">X!Tandem</h3>
<p><strong>X!Tandem</strong> is an open source software that can match tandem mass spectra (usually the experiment) with peptide sequences from a database. This process allows identification of proteins in one or more samples.</p>
<p>The X!Tandem search engine calculates a statistical confidence (expectation value) for all of the individual spectrum-to-sequence assignments. Some spectra might map to more than one protein, in this case X!Tandem will pick the best match with the highest confidence score (see <strong>Figure 7</strong>). The output is a lists all of the high confidence assignments.</p>
<p><img alt="xtandem Analysis" src="images/training_xtandemAnalyse_3.png" /></p>
<blockquote>
<p><strong>Figure 7</strong> &mdash; <em>Schema of the X!Tandem analysis</em><sup id="fnref:figure1"><a class="footnote-ref" href="#fn:figure1" rel="footnote">2</a></sup>. After LC-MS/MS analysis the experimental spectrum is compared to a theoretical spectrum made from a protein database. This comparison leads to a list of peptide match ranked by score.</p>
</blockquote>
<h3 id="galaxy">GALAXY</h3>
<p>GALAXY<sup id="fnref:galaxy"><a class="footnote-ref" href="#fn:galaxy" rel="footnote">3</a></sup> is an open source, web-based platform for biomedical research. GALAXY allows users to perform multi-omics data analyses: genomics, proteomics, transcriptomics and more. Numerous tools are available to achieve various analyses. This tutorial will focus on proteomics identification: matching the experimental data, spectra from LC-MS/MS analysis against data from a protein database using X!Tandem.</p>
<p>Before starting, a quick overview of the GALAXY interface &ndash; see <strong>Figure 8</strong>. The interface is divided into three parts:</p>
<ul>
<li><strong>Left panel</strong>:  List the tools that are available.  A search textbox is at the top of the panel in order to find the tool you want.</li>
<li><strong>Right panel</strong>: Is the history of all the data outputs from previous steps and subsequently becoming the input for the next step. For example, the figure below shows the data imported ready for the next step. This panel allows the user to follow the different steps of the  analysis.</li>
<li><strong>Central panel</strong>: Is the main screen, showing the details and options of the selected tool.</li>
</ul>
<p><img alt="GALAXY Panels" src="images/training_GalaxyPanels.png" /></p>
<blockquote>
<p><strong>Figure 8</strong> &mdash; <em>Galaxy interface</em>. Divided in 3 parts Galaxy&rsquo;s interface go from the left selecting the tools to the right where the results are displayed.</p>
</blockquote>
<hr />
<h2 id="tutorial">Tutorial</h2>
<p>This tutorial describes how to identify a list of proteins from tandem mass spectrometry data.</p>
<p>Analyses of this type are a fundamental part of most proteomics studies. The basic idea is to match tandem MS spectra obtained from a sample with equivalent theoretical spectra against a reference protein database. The process is referred to as &ldquo;protein identification&rdquo;, although amino acid sequences are not obtained <em>de novo</em> with this method.</p>
<h3 id="objectives">Objectives</h3>
<p>The objective of this tutorial is to perform protein identification from MS/MS spectra data using the X!Tandem tool in GALAXY &ndash; see <strong>Figure 9</strong>. The basic steps involved are:</p>
<ul>
<li>Loading UniProt<sup id="fnref:uniprot"><a class="footnote-ref" href="#fn:uniprot" rel="footnote">4</a></sup> proteome data in GALAXY (fasta file format)</li>
<li>Loading your MS/MS spectra in GALAXY</li>
<li>Run X!Tandem proteomics search</li>
<li>Sorting and analysing the results</li>
</ul>
<p>The tutorial will finish with an exercise where you repeat the same protocol <strong>but</strong> with your own proteome as the reference database instead of using UniProt.</p>
<p><img alt="Training Flowchart" src="images/training_flowchart.png" /></p>
<blockquote>
<p><strong>Figure 9</strong> - <em>General flowchart of this training</em>. The first part is to upload datasets to be investigated. Then the training will cover the key parts of the configuration of a X!Tandem search. Finally, we look at sorting and analysing the results.</p>
</blockquote>
<p>The aim of the training will be to create a list of all proteins that can be confidently said to be present in the sample.</p>
<p>This tutorial uses the following open source tools:</p>
<ul>
<li>X!Tandem search engine</li>
<li>Trans Proteomic Pipeline<sup id="fnref:tpp"><a class="footnote-ref" href="#fn:tpp" rel="footnote">11</a></sup></li>
<li>GALAXY platform with tools already installed</li>
</ul>
<p>This tutorial uses an <em>E. Coli</em> MS/MS spectra dataset &ldquo;s1-000.RAW.gz&rdquo; that has already been converted to MGF format for use in the Galaxy. The MGF data file is over 200MB, instead of downloading it to your computer, you can upload this file into Galaxy directly. Copy this link (https://swift.rc.nectar.org.au:8888/v1/AUTH_377/public/EColi_K12_MS_Spectra.mgf) and follow the instructions below.</p>
<blockquote>
<p><em>Note</em>
If you downloaded the RAW data (which can be obtained from <a href="http://www.marcottelab.org/MSdata/Data_03/ecoli-6-18-07/s1-000.RAW.gz">here</a>), you will need to manually convert it to &ldquo;MGF&rdquo; before it can be used in Galaxy. To convert the file, follow the following steps:
<em> Download and Install <a href="http://proteowizard.sourceforge.net/downloads.shtml">ProteoWizard</a> on your local computer. (Note: version - Windows 64-bit installer(able to convert vendor files except T2D)
</em> Start the ProteoWizard software on your local computer with windows operating system.
* Upload the raw file and convert to mgf format</p>
</blockquote>
<h3 id="step-1-data-import">STEP 1: Data import</h3>
<ul>
<li>Before importing data, <ss>Name</ss> your history. Click on the <ss>Unnamed history</ss> on the top of the right panel until you get the cursor. <ss>Delete</ss> and <ss>type</ss> in &ldquo;Protein Identificaiton E.coli K12&rdquo; or a more meaningful name. You <strong>must</strong> <ss>hit Enter</ss>, otherwise the name will not be saved.</li>
</ul>
<p><img alt="GALAXY History Name" src="images/training_history.png" /></p>
<ul>
<li>Next, import data into GALAXY. On the left panel click on the <ss>upload button</ss> as shown below:</li>
</ul>
<p><img alt="GALAXY Upload Data Button" src="images/training_upload_0.png" /></p>
<ul>
<li>A new window will open, where you can select a method to upload your data: <em>Choose local file</em>, <em>Choose FTP file</em> or <em>Paste/Fetch data</em>. Click on <ss>Paste/Fetch data</ss> then copy and paste the URL of the mass spectrometer file into the textbox.</li>
</ul>
<blockquote>
<p><strong>Tip</strong> : You can also use the <ss>Get Data &rarr; Upload file</ss> tool to obtain the same result. Here you want to upload your MS/MS spectra.</p>
</blockquote>
<p><img alt="GALAXY Upload Data Fetch" src="images/training_upload_2.png" /></p>
<blockquote>
<p><strong>Warning</strong> : X!Tandem only accepts mgf files in GALAXY.  Other file formats have to be converted beforehand. A useful tool for that is msconvert<sup id="fnref:msconvert"><a class="footnote-ref" href="#fn:msconvert" rel="footnote">12</a></sup>(download : <a href="http://proteowizard.sourceforge.net/downloads.shtml">here</a>. This tool only working on Windows).</p>
</blockquote>
<h3 id="step-2-import-reference-data">STEP 2: Import Reference Data</h3>
<p>We will first use the UniProt Database as our reference data to search against.</p>
<ul>
<li>Select the tool named <ss>Protein Database Downloader</ss></li>
<li>Choose the database: <fn>UniProtKB</fn></li>
<li>Select the organism of interest: <fn>Escherichia Coli (strain K12)</fn></li>
<li>
<p>Click on <ss>Execute</ss></p>
</li>
<li>
<p>You will see your history update with the new data imports</p>
</li>
</ul>
<p><img alt="Data Imported" src="images/training_Data_importation_1.png" /></p>
<ul>
<li>Rename your &ldquo;Protein Database&rdquo; by clicking on pencil <i class="icon-pencil"></i> icon.</li>
<li>Select <ss>Edit Attributes</ss></li>
<li>In <strong>Name</strong>, type in <fn>EColi_K12_UniProt_Database</fn></li>
<li>Click <ss>Save</ss></li>
</ul>
<p><img alt="Data Rename" src="images/training_Data_Rename.png" /></p>
<h3 id="step-3-xtandem-msms-search">STEP 3: X!Tandem MS/MS Search</h3>
<p>This part of the tutorial is to perform the X!Tandem MS/MS search.</p>
<ul>
<li>The tool can be found in the left panel under the section <ss>Proteomics Tools &rarr; X!Tandem MSMS Search</ss></li>
<li>In the central section, you should see the following options. Below the key parameters are explained in detail.</li>
</ul>
<p><img alt="X!Tandem Options" src="images/training_Xtandem.png" /></p>
<p>X!Tandem proposes many options, the key options of interest are:</p>
<ol>
<li><strong>Uploaded FASTA file</strong>: this parameter is to select the fasta file that will be used as the proteins database.</li>
<li><strong>MSMS File</strong> : select the spectra file to analyse.</li>
<li><strong>Variable Modifications</strong>: this option considers possible modification on each residue (which impact the MS/MS spectra).</li>
<li><strong>Fixed Modifications</strong>: this option allows you to specify any known modification.</li>
<li><strong>Missed Cleavages Allowed</strong>: &ldquo;when a cleavage reagent (either chemical or enzymatic) is used to cleave the peptide backbone of a protein to produce peptides, different sites along the backbone will have different reaction rates and kinetics. Therefore, there may be some sites that should be cleaved by the reagent that are not completely cleaved during the course of the experiment. The value of this parameter represents the maximum number of missed cleavage sites allowed within a peptide.&rdquo;</li>
<li><strong>Enzyme</strong>: specify the enzyme that has been used to cleave the proteins (affecting the interpretation of the spectrum).</li>
<li><strong>Fragment ion tolerance</strong>: define the minimum weight (in Da) of the fragmented ions, default value is 0.5.</li>
<li><strong>Precursor ion tolerance</strong>: define the minimum weight (in Da) of the precursor ions.</li>
</ol>
<p>In this tutorial, we are using the following parameters:</p>
<table>
<thead>
<tr>
<th align="left">Parameters Name</th>
<th>Value</th>
<th align="right">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Uploaded FASTA file</td>
<td>EColi_K12_UniProt_Database</td>
<td align="right">&ndash;</td>
</tr>
<tr>
<td align="left">MSMS File</td>
<td>EColi_K12_MS_Spectra.mgf</td>
<td align="right">&ndash;</td>
</tr>
<tr>
<td align="left">Variable Modifications</td>
<td>Oxidation M</td>
<td align="right">&ndash;</td>
</tr>
<tr>
<td align="left">Fixed Modifications</td>
<td>Carbamidomethyl C</td>
<td align="right">&ndash;</td>
</tr>
<tr>
<td align="left">Missed Cleavages Allowed</td>
<td>2</td>
<td align="right">2</td>
</tr>
<tr>
<td align="left">Enzyme</td>
<td>Trypsin</td>
<td align="right">Trypsin</td>
</tr>
<tr>
<td align="left">Fragment ion tolerance</td>
<td>0.5</td>
<td align="right">0.5</td>
</tr>
<tr>
<td align="left">Precursor ion tolerance</td>
<td>10 ppm</td>
<td align="right">10 ppm</td>
</tr>
</tbody>
</table>
<ul>
<li>Leave all other parameters as their default settings.</li>
<li>
<p>Click on <ss>Execute</ss></p>
</li>
<li>
<p>The history should update with a new entry, the output file of the X!Tandem</p>
</li>
<li>Rename the output by clicking on the <i class="icon-pencil"></i>  icon</li>
</ul>
<p><img alt="Output X!Tandem XML" src="images/training_output_xtandem.png" /></p>
<ul>
<li>You can view the output by click on the name in the history panel.</li>
</ul>
<h3 id="step-4-convert-xtandem-xml-to-table">STEP 4: Convert X!Tandem XML to Table</h3>
<p>The output of X!Tandem is an XML format, which is not easy to decipher. In order to get a more readable file, we will convert the XML format to a table. This is a two step process:</p>
<ul>
<li>Select <ss>Proteomics Tools &rarr; Tandem to pepXML</ss></li>
<li>Select your <em>tandem</em> file in the <fn>Input File</fn> field</li>
<li>Click on <ss>Execute</ss></li>
<li>The history should update with a new <em>pepXML</em> file. The pepXML file is still a XML file and needs to be converted to a tabular.</li>
<li>Select <ss>Proteomics Tools &rarr; PepXML to Table</ss></li>
<li>Select your <em>pepXML</em> file in the <fn>Input File</fn> field</li>
<li>This history should update with a new file</li>
</ul>
<p><img alt="Output X!Tandem Tabular" src="images/training_output_tabular.png" /></p>
<p>After the X!Tandem search we obtain a list of proteins present in the sample data from Step 1:</p>
<table>
<thead>
<tr>
<th align="left">Tabular name</th>
<th>Tandem file XML designation</th>
<th align="right">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Protein</td>
<td>label</td>
<td align="right">Protein name according to the database used for the MS/MS search</td>
</tr>
<tr>
<td align="left">Peptide</td>
<td>seq</td>
<td align="right">Peptide sequence</td>
</tr>
<tr>
<td align="left">Assumed_charge</td>
<td>z</td>
<td align="right">Parent ion mass (plus a proton) from the spectrum</td>
</tr>
<tr>
<td align="left">Calc_neutral_pep_mass</td>
<td>mh (+mass of a proton)</td>
<td align="right">Parent ion mass calculated from the spectrum</td>
</tr>
<tr>
<td align="left">Neutral_mass</td>
<td>mh (+mass of a proton)</td>
<td align="right">Calculated peptide mass (plus a proton)</td>
</tr>
<tr>
<td align="left">Retention_time</td>
<td>rt</td>
<td align="right">Length of time between injection and position of the target compound peak.<sup id="fnref:rt"><a class="footnote-ref" href="#fn:rt" rel="footnote">10</a></sup></td>
</tr>
<tr>
<td align="left">Start_scan</td>
<td>id</td>
<td align="right">id of the group treated (where the analysis starts)</td>
</tr>
<tr>
<td align="left">End_scan</td>
<td>id</td>
<td align="right">id of the domain treated (usually the same as start_scan, no consideration of the doted name in the original XML file)</td>
</tr>
<tr>
<td align="left">Search_engine</td>
<td><em>&mdash;</em></td>
<td align="right">Name of the search engine used, in our case X!Tandem (associated with the scoring method : <em>k-score</em>)</td>
</tr>
<tr>
<td align="left">Raw_score</td>
<td>expect</td>
<td align="right">Expectation value for the top ranked protein identified with this spectrum</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note:</strong> You can find all the details on the X!Tandem output file here: <a href="http://www.thegpm.org/docs/X_series_output_form.pdf">The file format for X! series search engines</a>. The tandem XML file contains more information than the tabular format which can also be of further use (e.i. the score for the different ions <em>x, y, z, a, b, c</em> &hellip;)</p>
</blockquote>
<hr />
<h2 id="references">References</h2>
<div class="footnote">
<hr />
<ol>
<li id="fn:xtand">
<p><a href="http://www.thegpm.org/tandem/">X!Tandem website</a> and <a href="http://www.thegpm.org/TANDEM/api/">X!Tandem documentation</a>. Craig, R., and R. C. Beavis. 2004. <em>“TANDEM: matching proteins with tandem mass spectra.”</em> Bioinformatics 20, no. 9 (June): 1466-67. http://dx.doi.org/10.1093/bioinformatics/bth092.&#160;<a class="footnote-backref" href="#fnref:xtand" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:figure1">
<p>Nesvizhskii, Alexey I. <em>&ldquo;Protein Identification By Tandem Mass Spectrometry And Sequence Database Searching&rdquo;</em>. Mass Spectrometry Data Analysis in Proteomics 87-120.
 &mdash; <a href="http://www.springerprotocols.com/BookToc/doi/10.1385/1597452750">Mass Spectrometry Data Analysis in Proteomics</a>&#160;<a class="footnote-backref" href="#fnref:figure1" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:figure1" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:galaxy">
<p>GALAXY platform : https://usegalaxy.org/. You can also find a more extensive documentation here : https://galaxyproject.org/.
Afgan, Enis et al. <em>&ldquo;The Galaxy Platform For Accessible, Reproducible And Collaborative Biomedical Analyses: 2016 Update&rdquo;</em>. Nucleic Acids Res 44.W1 (2016): W3-W10.
 &mdash; <a href="http://www.ncbi.nlm.nih.gov/pubmed/27137889">The Galaxy platform for accessible, reproducible and collaborative biomedical analyses: 2016 update</a>&#160;<a class="footnote-backref" href="#fnref:galaxy" rev="footnote" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:uniprot">
<p>UniProt : http://www.uniprot.org/. Apweiler, R. <em>&ldquo;Uniprot: The Universal Protein Knowledgebase&rdquo;</em>. Nucleic Acids Research 32.90001 (2004): 115D-119.
 &mdash; <a href="http://www.ncbi.nlm.nih.gov/pubmed/14681372">UniProt: the Universal Protein knowledgebase</a>&#160;<a class="footnote-backref" href="#fnref:uniprot" rev="footnote" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:figure3">
<p>High-performance liquid chromatography (HPLC): <a href="http://www.waters.com/waters/en_AU/How-Does-High-Performance-Liquid-Chromatography-Work%3F/nav.htm?cid=10049055&amp;locale=en_AU">How Does High Performance Liquid Chromatography Work ?</a> Mant, Colin T. et al. <em>&ldquo;HPLC Analysis And Purification Of Peptides&rdquo;</em>. Peptide Characterization and Application Protocols (2007): 3-55.&#160;<a class="footnote-backref" href="#fnref:figure3" rev="footnote" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:figure4">
<p>Aebersold, Ruedi and Matthias Mann. <em>&ldquo;Mass Spectrometry-Based Proteomics&rdquo;</em>. Nature 422.6928 (2003): 198-207.
 &mdash; <a href="http://www.ncbi.nlm.nih.gov/pubmed/12634793">Mass Spectrometry-Based Proteomics</a>&#160;<a class="footnote-backref" href="#fnref:figure4" rev="footnote" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:MS file format">
<p>Deutsch, E. W. <em>&ldquo;File Formats Commonly Used In Mass Spectrometry Proteomics&rdquo;</em>. Molecular &amp; Cellular Proteomics 11.12 (2012): 1612-1621.
 &mdash; <a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3518119/">File Formats Commonly Used in Mass Spectrometry Proteomics</a>&#160;<a class="footnote-backref" href="#fnref:MS file format" rev="footnote" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn:MGF">
<p>Mascot Generic Format (MGF) file is likely the most common text format for MS/MS data encoding in the form of a peak list. This file encodes multiple MS/MS spectra in a single file via m/z, intensity pairs separated by headers.
 &mdash; <a href="http://www.matrixscience.com/help/data_file_help.html">MGF file format</a>&#160;<a class="footnote-backref" href="#fnref:MGF" rev="footnote" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
<li id="fn:embedded_parameters">
<p>The MGF format allows parameters that can be found after the BEGIN IONS statement.
 &mdash; <a href="http://www.matrixscience.com/help/data_file_help.html#PARAMS">Embedded Parameters</a>&#160;<a class="footnote-backref" href="#fnref:embedded_parameters" rev="footnote" title="Jump back to footnote 9 in the text">&#8617;</a></p>
</li>
<li id="fn:rt">
<p>The retention time of a peak can be used as means of qualitative identification. The length of time between injection and position of the target compound peak.
 &mdash; <a href="http://www.shimadzu.com/an/retentiontime_parameters.html">Retention Time Parameters</a>
 &mdash; <a href="http://www.scientific.org/tutorials/articles/gcms.html">Retention Time explained for GC/MS</a>&#160;<a class="footnote-backref" href="#fnref:rt" rev="footnote" title="Jump back to footnote 10 in the text">&#8617;</a></p>
</li>
<li id="fn:tpp">
<p>The Trans-Proteomic Pipeline (TPP) website : http://tools.proteomecenter.org/wiki/index.php?title=Software:TPP. Deutsch, Eric W. et al. <em>&ldquo;A Guided Tour Of The Trans-Proteomic Pipeline&rdquo;</em>. Proteomics 10.6 (2010): 1150-1159.
 &mdash; <a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3017125/">A Guided Tour of the Trans-Proteomic Pipeline</a>&#160;<a class="footnote-backref" href="#fnref:tpp" rev="footnote" title="Jump back to footnote 11 in the text">&#8617;</a></p>
</li>
<li id="fn:msconvert">
<p>ProteoWizard Tools website : http://proteowizard.sourceforge.net/tools.shtml. Holman, Jerry D., David L. Tabb, and Parag Mallick. <em>&ldquo;Employing Proteowizard To Convert Raw Mass Spectrometry Data&rdquo;</em>. Current Protocols in Bioinformatics (2014): 13.24.1-13.24.9.
&mdash; <a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC4113728/">Employing ProteoWizard to Convert Raw Mass Spectrometry Data</a>&#160;<a class="footnote-backref" href="#fnref:msconvert" rev="footnote" title="Jump back to footnote 12 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; The authors; 2018-
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="" class="md-footer-social__link fa fa-coffee"></a>
    
      <a href="https://github.com/Galaxy-Au-training/tutorials" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://github.com/Galaxy-Au-training/tutorials/issues" class="md-footer-social__link fa fa-bug"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>